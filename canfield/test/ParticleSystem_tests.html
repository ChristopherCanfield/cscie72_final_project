<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>ParticleSystem_tests</title>
		<meta name="description" content="Tests for ParticleSystem and related classes">
		<meta name="author" content="Christopher D. Canfield">
		<script type="text/javascript" src="../../Common/three.js"
		<script type="text/javascript" src="../drawable/Drawable.js"></script>
		<script type="text/javascript" src="../drawable/particle/Particle.js"></script>
		<script type="text/javascript" src="../drawable/particle/ParticleSystem.js"></script>
		<script type="text/javascript" src="../drawable/particle/ContinuousParticleSystem.js"></script>
		<script type="text/javascript" src="../drawable/particle/ExplosionParticleSystem.js"></script>
	</head>

	<body>
		<div>
			<header>
				<h1>Tests: Particle, ParticleSystem, ContinuousParticleSystem, ExplosionParticleSystem</h1>
			</header>
			Successful tests return true in the console.

			<script>
			  var particleSystem = new ParticleSystem();
			
		      var position1 = new THREE.Vector3(10, 10, 10);
		      var speed1 = new THREE.Vector3(0.25, 0.25, 0.25);
		      var direction1 = new THREE.Vector3(-1, 1, 1);
		      var size1 = 3;
		      var color1 = new THREE.Color("rgb(250, 0,0)");
		      var lifetime1 = 10;
		      var particle1 = new Particle(particleSystem, position1, speed1, direction1, 
		              size1, color1, lifetime1);
		              
		      var position2 = new THREE.Vector3(10, 10, 10);
              var speed2 = new THREE.Vector3(0.25, 0.25, 0.25);
              var direction2 = new THREE.Vector3(-1, 1, 1);
              var size2 = 4;
              var color2 = new THREE.Color("rgb(250, 0,0)");
              var lifetime2 = 15;
              var particle2 = new Particle(particleSystem, position2, speed2, direction2, 
                      size2, color2, lifetime2);
              
              // Particle tests
              var testResult = particle1.equals(particle1);
              console.log("Particle.equals: " + testResult);
              testResult = !particle1.equals(particle2);
              console.log("!Particle.equals: " + testResult);
              testResult = !particle2.equals(particle1);
              console.log("!Particle.equals 2: " + testResult);
              
              particle1.update(5);
              testResult = (particle1.lifeMillis === 5);
              console.log("Particle.update: " + testResult);
              
              testResult = (particle1.getId() === 0);
              console.log("Particle.getId: " + testResult);
              
              testResult = (particle2.getId() === 1);
              console.log("Particle.getId 2: " + testResult);
              
              // Particle System tests
              particle1.lifeMillis = 0;
              particleSystem.add(particle1);
              testResult = (particleSystem.particles.length === 1);
              console.log("ParticleSystem.add: " + testResult);
              
              particle2.lifeMillis = 0;
              particleSystem.add(particle2);
              testResult = (particleSystem.particles.length === 2);
              console.log("ParticleSystem.add 2: " + testResult);
              
              particleSystem.update(6);
              testResult = (particleSystem.particles.length === 2);
              console.log("ParticleSystem.update: " + testResult);
              
              particleSystem.update(5);
              testResult = (particleSystem.particles.length === 1);
              console.log("ParticleSystem.update 2: " + testResult);
              
              particleSystem.remove(particle2);
              testResult = (particleSystem.particles.length === 0);
              console.log("particleSystem.remove: " + testResult);
              
              // ExplosionParticleSystem test
              // constructor: zone, threeJsScene, lifetime, particleCount, 
              //       position, particleSpeed, particleSize, particleColor, particleLifetime
              //var explosionSystem = new ExplosionSystem(null, null)
              
              // ContinuousParticleSystem test
              // constructor: zone, threeJsScene, particlesPerRelease, timePerRelease, particle
              
              
			</script>

		</div>
	</body>
</html>
